import React, { CSSProperties } from 'react';

import styled from '@emotion/styled';

type SocialIconData = { path: string; viewBox: string; color: string };

type SocialsMapType = {
  [key: string]: SocialIconData;
};

const socialsMap: SocialsMapType = {
  telegram: {
    path: `M5.525 14.712l14.218-5.874c1.422-.614 6.203-2.574 6.203-2.574s2.2-.853 2.028 1.227c-.067.86-.554 3.854-1.048 7.101l-1.534 9.63s-.12 1.414-1.16 1.654-2.761-.905-3.068-1.122-4.587-2.941-6.181-4.273a1.154 1.154 0 01.054-1.95l.005-.003A180.611 180.611 0 0021.47 12.4c.748-.748 1.497-2.447-1.586-.367l-8.635 5.807a3.57 3.57 0 01-1.478.315c-.481 0-.94-.094-1.36-.264l.024.009c-1.841-.554-3.981-1.287-3.981-1.287s-1.497-.92 1.04-1.901z`,
    viewBox: `0 0 32 32`,
    color: `#49a9e9`,
  },

  reddit: {
    path: `M14.238 15.348c.085.084.085.221 0 .306-.465.462-1.194.687-2.231.687l-.008-.002-.008.002c-1.036 0-1.766-.225-2.231-.688-.085-.084-.085-.221 0-.305.084-.084.222-.084.307 0 .379.377 1.008.561 1.924.561l.008.002.008-.002c.915 0 1.544-.184 1.924-.561.085-.084.223-.084.307 0zm-3.44-2.418c0-.507-.414-.919-.922-.919-.509 0-.923.412-.923.919 0 .506.414.918.923.918.508.001.922-.411.922-.918zm13.202-.93c0 6.627-5.373 12-12 12s-12-5.373-12-12 5.373-12 12-12 12 5.373 12 12zm-5-.129c0-.851-.695-1.543-1.55-1.543-.417 0-.795.167-1.074.435-1.056-.695-2.485-1.137-4.066-1.194l.865-2.724 2.343.549-.003.034c0 .696.569 1.262 1.268 1.262.699 0 1.267-.566 1.267-1.262s-.568-1.262-1.267-1.262c-.537 0-.994.335-1.179.804l-2.525-.592c-.11-.027-.223.037-.257.145l-.965 3.038c-1.656.02-3.155.466-4.258 1.181-.277-.255-.644-.415-1.05-.415-.854.001-1.549.693-1.549 1.544 0 .566.311 1.056.768 1.325-.03.164-.05.331-.05.5 0 2.281 2.805 4.137 6.253 4.137s6.253-1.856 6.253-4.137c0-.16-.017-.317-.044-.472.486-.261.82-.766.82-1.353zm-4.872.141c-.509 0-.922.412-.922.919 0 .506.414.918.922.918s.922-.412.922-.918c0-.507-.413-.919-.922-.919z`,
    viewBox: `-5 -5 34 34`,
    color: `#FF4500`,
  },

  twitter: {
    path: `M26.791 9.308a9.259 9.259 0 01-2.549.699 4.405 4.405 0 001.947-2.446c-.855.51-1.799.87-2.806 1.071a4.423 4.423 0 00-7.654 3.026c0 .351.03.688.102 1.009-3.678-.179-6.933-1.942-9.12-4.628a4.45 4.45 0 00-.606 2.237c0 1.532.789 2.891 1.965 3.677a4.377 4.377 0 01-1.999-.545v.049a4.446 4.446 0 003.545 4.348c-.36.099-.753.146-1.16.146-.283 0-.569-.016-.838-.076.573 1.752 2.2 3.04 4.134 3.082a8.888 8.888 0 01-5.486 1.887 8.2 8.2 0 01-1.059-.061 12.457 12.457 0 006.788 1.986c8.142 0 12.593-6.745 12.593-12.591 0-.196-.007-.384-.016-.572a8.844 8.844 0 002.218-2.297z`,
    viewBox: `0 0 32 32`,
    color: `#00aced`,
  },

  discord: {
    path: `M21.859 24.85s-.769-.907-1.392-1.707a6.693 6.693 0 003.832-2.49l.012-.017c-.697.471-1.496.888-2.341 1.211l-.081.027a13.24 13.24 0 01-2.993.895l-.083.012a14.62 14.62 0 01-5.544-.015l.092.015a18.055 18.055 0 01-3.198-.943l.123.043a12.053 12.053 0 01-1.599-.755l-.131-.068-.085-.061c-.415-.238-.623-.384-.623-.384a6.55 6.55 0 003.638 2.474l.045.01c-.63.769-1.407 1.753-1.407 1.753-4.66-.146-6.428-3.206-6.428-3.206a28.064 28.064 0 013.15-12.459l-.074.157a10.33 10.33 0 015.888-2.213l.025-.001.215.254a14.324 14.324 0 00-5.608 2.804l.026-.02s.461-.254 1.246-.607a15.344 15.344 0 014.709-1.323l.074-.007a1.92 1.92 0 01.361 0l-.008-.001a18.17 18.17 0 014.341-.039l-.081-.007c2.362.276 4.506.992 6.422 2.067l-.086-.044a13.949 13.949 0 00-5.122-2.69l-.099-.024.3-.338c2.252.116 4.294.931 5.935 2.231l-.022-.017c1.852 3.579 2.966 7.803 3.037 12.28v.023s-1.792 3.076-6.444 3.206zm-9.796-9.842a2.246 2.246 0 00-2.153 2.31v-.003l-.001.049c0 1.211.952 2.199 2.148 2.258h.005a2.246 2.246 0 002.146-2.243l-.001-.067v.003l.001-.078a2.23 2.23 0 00-2.143-2.228h-.004zm7.689 0a2.246 2.246 0 00-2.153 2.31v-.003l-.001.049c0 1.211.952 2.199 2.148 2.258h.005a2.246 2.246 0 002.146-2.243l-.001-.067v.003l.001-.064c0-1.205-.95-2.189-2.141-2.243h-.005z`,
    viewBox: `0 0 32 32`,
    color: `#7289DA`,
  },

  medium: {
    path: `M71.5 142.3c.6-5.9-1.7-11.8-6.1-15.8L20.3 72.1V64h140.2l108.4 237.7L364.2 64h133.7v8.1l-38.6 37c-3.3 2.5-5 6.7-4.3 10.8v272c-.7 4.1 1 8.3 4.3 10.8l37.7 37v8.1H307.3v-8.1l39.1-37.9c3.8-3.8 3.8-5 3.8-10.8V171.2L241.5 447.1h-14.7L100.4 171.2v184.9c-1.1 7.8 1.5 15.6 7 21.2l50.8 61.6v8.1h-144v-8L65 377.3c5.4-5.6 7.9-13.5 6.5-21.2V142.3z`,
    viewBox: `-128 -128 768 768`,
    color: `#fff`,
  },
};

const StyledSVG = styled.svg`
  height: 100%;
  width: 100%;
  display: inline;

  &:hover {
    opacity: 0.5;
  }
`;

type SocialIconWrapperProps = {
  size?: string;
};

const SocialIconWrapper = styled.div`
  align-items: center;
  background-color: transparent;
  border: 0;
  color: inherit;
  display: flex;
  justify-content: center;
  transition: color 0.3s ease, background-color 0.3s ease;

  height: ${(props: SocialIconWrapperProps) => props.size || `50px`};
  width: ${(props: SocialIconWrapperProps) => props.size || `50px`};
`;

export type SocialIconProps = {
  type: string;
  url: string;
  color: string;
  size: string;
  style?: CSSProperties;
  className?: string;
  children?: string;
};

const SocialIcon = ({
  type,
  url,
  color,
  size,
  style,
  className,
  children,
  ...rest
}: SocialIconProps) => {
  if (socialsMap[type]) {
    const { path, viewBox, color: defaultColor } = socialsMap[type];

    return (
      <SocialIconWrapper size={size}>
        <a
          {...rest}
          href={url}
          className={className}
          style={style}
          aria-label={type}
          target="_blank"
          rel="noreferrer"
        >
          <StyledSVG viewBox={viewBox}>
            <path d={path} fill={color || defaultColor} />
          </StyledSVG>

          {children}
        </a>
      </SocialIconWrapper>
    );
  }

  return <span />;
};

export default SocialIcon;
